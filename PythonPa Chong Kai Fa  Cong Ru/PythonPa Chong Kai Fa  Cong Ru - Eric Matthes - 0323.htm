<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Arial, sans-serif; }
 .font2 { font:12pt Arial, sans-serif; }
 .font3 { font:10pt Segoe UI, sans-serif; }
 .font4 { font:7pt SimHei, sans-serif; }
 .font5 { font:10pt SimHei, sans-serif; }
 .font6 { font:12pt SimHei, sans-serif; }
 .font7 { font:8pt SimSun, serif; }
 .font8 { font:9pt SimSun, serif; }
 .font9 { font:10pt SimSun, serif; }
 .font10 { font:10pt Times New Roman, serif; }
 .font11 { font:11pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font10">306</span></p>
<p><span class="font9">第</span><span class="font10">15</span><span class="font9">章 生成数据</span></p>
<p><span class="font4">❷ </span><span class="font0">for value in range(1, die.num_sides+1):</span></p>
<p><span class="font4">❸ &nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">frequency = results.count(value)</span></p>
<p><span class="font4">❹ &nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">frequencies.append(frequency)</span></p>
<p><span class="font0">print(frequencies)</span></p>
<p><span class="font9">由于我们将使用</span><span class="font10">Pyga</span><span class="font9">来进行分析，而不是将结果打印出来，因此可以将模拟掷骰子的次数 增加到</span><span class="font10">1000 </span><span class="font9">(见</span><span class="font11" style="font-weight:bold;">O</span><span class="font9">)。为分析结果，我们创建了空列表</span><span class="font3">frequencies</span><span class="font9">,用于存储每种点数出现的次 数。在</span><span class="font5">❷</span><span class="font9">处，我们遍历可能的点数(这里为</span><span class="font10">1~6</span><span class="font9">)，计算每种点数在</span><span class="font3">results</span><span class="font9">中出现了多少次(见</span><span class="font5">❸</span><span class="font9">)， 并将这个值附加到列表</span><span class="font3">frequencies</span><span class="font9">的末尾(见</span><span class="font5">❹</span><span class="font9">)。接下来，我们在可视化之前将这个列表打印 出来：</span></p>
<p><span class="font0">[155, 167, 168, 170, 159, 181]</span></p>
<p><span class="font9">结果看起来是合理的：我们看到了</span><span class="font10">6</span><span class="font9">个值——掷</span><span class="font10">D6</span><span class="font9">骰子时可能出现的每个点数对应一个；我 们还发现，没有任何点数出现的频率比其他点数高很多。下面来可视化这些结果。</span></p>
<ul style="list-style:none;"><li><a name="caption1"></a>
<h5><a name="bookmark0"></a><span class="font2"><a name="bookmark1"></a>15.4.6</span><span class="font6"> 绘制直方图</span></h5></li></ul>
<p><span class="font9">有了频率列表后，我们就可以绘制一个表示结果的直方图。</span><span class="font8">直方图</span><span class="font9">是一种条形图，指出了各 种结果出现的频率。创建这种直方图的代码如下：</span></p>
<h6><a name="bookmark2"></a><span class="font1"><a name="bookmark3"></a>die_visual.py</span></h6>
<p><span class="font0">import pygal</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">- -</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p></li>
<li>
<p><span class="font0">#</span><span class="font7"> 分析结果</span></p></li></ul>
<p><span class="font0">frequencies = []</span></p>
<p><span class="font0">for value in range(1, die.num_sides+1):</span></p>
<p><span class="font0">frequency = results.count(value)</span></p>
<p><span class="font0">frequencies.append(frequency)</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">#</span><span class="font7"> 对结果进行可视化</span></p></li></ul>
<p><span class="font4">❶ </span><span class="font0">hist = pygal.Bar()</span></p>
<p><span class="font0">hist.title = &quot;Results of rolling one D6 1000 times.&quot;</span></p>
<p><span class="font4">❷ </span><span class="font0">hist.x_labels = ['1', '2', '3', '4', '5', '6']</span></p>
<p><span class="font0">hist.x_title = &quot;Result&quot;</span></p>
<p><span class="font0">hist.y_title = &quot;Frequency of Result&quot;</span></p>
<p><span class="font4">❸ </span><span class="font0">hist.add('D6', frequencies)</span></p>
<p><span class="font0">hist.render_to_file('die_visual.svg')</span></p>
<p><span class="font9">为创建条形图，我们创建了一个</span><span class="font3">pygal.Bar()</span><span class="font9">实例，并将其存储在</span><span class="font3">hist</span><span class="font9">中(见</span><span class="font11" style="font-weight:bold;">O</span><span class="font9">)。接下来， 我们设置</span><span class="font3">hist</span><span class="font9">的属性</span><span class="font3">title </span><span class="font9">(用于标示直方图的字符串)，将掷</span><span class="font10">D6</span><span class="font9">骰子的可能结果用作</span><span class="font10" style="font-style:italic;">x</span><span class="font9">轴的标签 (见</span><span class="font5">❷</span><span class="font9">)，并给每个轴都添加了标题。在</span><span class="font5">❸</span><span class="font9">处，我们使用</span><span class="font3">add()</span><span class="font9">将一系列值添加到图表中(向它传递 </span></p>
<div>
</div><br clear="all">
</body>
</html>
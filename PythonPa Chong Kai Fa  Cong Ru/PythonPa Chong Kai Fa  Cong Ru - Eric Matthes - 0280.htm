<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Arial, sans-serif; }
 .font2 { font:12pt Arial, sans-serif; }
 .font3 { font:10pt Segoe UI, sans-serif; }
 .font4 { font:7pt SimHei, sans-serif; }
 .font5 { font:10pt SimHei, sans-serif; }
 .font6 { font:12pt SimHei, sans-serif; }
 .font7 { font:8pt SimSun, serif; }
 .font8 { font:9pt SimSun, serif; }
 .font9 { font:10pt SimSun, serif; }
 .font10 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font10">14.1 </span><span class="font9">添加</span><span class="font10">Play</span><span class="font9">按钮 </span><span class="font10">263</span></p>
<p><span class="font0">gf.check_events(ai_settings, screen, stats, play_button, ship, aliens, bullets)</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p></li></ul>
<p><span class="font9">现在，每当玩家单击</span><span class="font10">Play</span><span class="font9">按钮时，这个游戏都将正确地重置，让玩家想玩多少次就玩多少次!</span></p>
<ul style="list-style:none;"><li>
<p><span class="font2">14.1.5</span><span class="font6"> 将</span><span class="font2">Play</span><span class="font6">按钮切换到非活动状态</span></p></li></ul>
<p><span class="font9">当前，</span><span class="font10">Play</span><span class="font9">按钮存在一个问题，那就是即便</span><span class="font10">Play</span><span class="font9">按钮不可见，玩家单击其原来所在的区域时， 游戏依然会作出响应。游戏开始后，如果玩家不小心单击了&quot;</span><span class="font10">@</span><span class="font9">丫按钮原来所处的区域，游戏将重 新开始!</span></p>
<p><span class="font9">为修复这个问题，可让游戏仅在</span><span class="font3">game_active</span><span class="font9">为</span><span class="font3">False</span><span class="font9">时才开始：</span></p><a name="caption1"></a>
<h6><a name="bookmark0"></a><span class="font1"><a name="bookmark1"></a>game_functions.py</span></h6>
<p><span class="font0">def check_play_button(ai_settings, screen, stats, play_button, ship, aliens, bullets, mouse_x, mouse_y):</span></p>
<p><span class="font0">&quot;&quot;&quot;</span><span class="font7">玩家单击</span><span class="font0">Play</span><span class="font7">按钮时开始新游戏<sup>,,,,,，</sup></span></p>
<p><span class="font4">❶ &nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">button_clicked = play_button.rect.collidepoint(mouse_x, mouse_y)</span></p>
<p><span class="font4">❷ &nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">if button_clicked and not stats.game_active:</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">#</span><span class="font7">重置游戏统计信息</span></p></li>
<li>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p></li></ul>
<p><span class="font9">标志</span><span class="font3">button_clicked</span><span class="font9">的值为</span><span class="font3">True</span><span class="font9">或</span><span class="font3">False </span><span class="font9">(见</span><span class="font5">❶</span><span class="font9">)，仅当玩家单击了</span><span class="font10">Play</span><span class="font9">按钮</span><span class="font8">且</span><span class="font9">游戏当前处于非活 动状态时，游戏才重新开始(见</span><span class="font5">❷</span><span class="font9">)。为测试这种行为，可开始新游戏，并不断地单击</span><span class="font10">Play</span><span class="font9">按钮原 来所在的区域。如果一切都像预期的那样工作，单击</span><span class="font10">Play</span><span class="font9">按钮原来所处的区域应该没有任何影响。</span></p>
<ul style="list-style:none;"><li><a name="caption2"></a>
<h5><a name="bookmark2"></a><span class="font2"><a name="bookmark3"></a>14.1.6</span><span class="font6"> 隐藏光标</span></h5></li></ul>
<p><span class="font9">为让玩家能够开始游戏，我们要让光标可见，但游戏开始后，光标只会添乱。为修复这种问 题，我们在游戏处于活动状态时让光标不可见：</span></p>
<div>
<p><span class="font2" style="font-weight:bold;">14</span></p>
</div><br clear="all">
<h6><a name="bookmark4"></a><span class="font1"><a name="bookmark5"></a>game_functions.py</span></h6>
<p><span class="font0">def check_play_button(ai_settings, screen, stats, play_button, ship, aliens, bullets, mouse_x, mouse_y):</span></p>
<p><span class="font0">&quot;&quot;&quot;</span><span class="font7">在玩家单击</span><span class="font0">Play</span><span class="font7">按钮时开始新游戏山<sup>111</sup></span></p>
<p><span class="font0">button_clicked = play_button.rect.collidepoint(mouse_x, mouse_y) if button_clicked and not stats.game_active:</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0"># </span><span class="font7">隐藏光标</span></p></li></ul>
<p><span class="font0">pygame.mouse.set_visible(False)</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p></li></ul>
<p><span class="font9">通过向</span><span class="font3">set_visible()</span><span class="font9">传递</span><span class="font3">False</span><span class="font9">，让</span><span class="font10">Pygame</span><span class="font9">在光标位于游戏窗口内时将其隐藏起来。</span></p>
<p><span class="font9">游戏结束后，我们将重新显示光标，让玩家能够单击</span><span class="font10">Play</span><span class="font9">按钮来开始新游戏。相关的代码 如下：</span></p>
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
</body>
</html>
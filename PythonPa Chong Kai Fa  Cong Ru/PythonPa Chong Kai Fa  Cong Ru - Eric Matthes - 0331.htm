<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Arial, sans-serif; }
 .font2 { font:12pt Arial, sans-serif; }
 .font3 { font:10pt Segoe UI, sans-serif; }
 .font4 { font:7pt SimHei, sans-serif; }
 .font5 { font:10pt SimHei, sans-serif; }
 .font6 { font:12pt SimHei, sans-serif; }
 .font7 { font:8pt SimSun, serif; }
 .font8 { font:10pt SimSun, serif; }
 .font9 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font9">314 </span><span class="font8">第</span><span class="font9">16</span><span class="font8">章下载数据</span></p>
<ul style="list-style:none;"><li>
<p><span class="font2">16.1.2</span><span class="font6"> 打印文件头及其位置</span></p></li></ul>
<p><span class="font8">为让文件头数据更容易理解，将列表中的每个文件头及其位置打印出来：</span></p>
<p><span class="font1">highs_lows.py</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p></li></ul>
<p><span class="font0">with open(filename) as f: reader = csv.reader(f) header_row = next(reader)</span></p>
<p><span class="font4">❶ </span><span class="font0">for index, column_header in enumerate(header_row): print(index, column_header)</span></p>
<p><span class="font8">我们对列表调用了</span><span class="font5">已。明</span><span class="font3">613t</span><span class="font5">已()</span><span class="font8">(见</span><span class="font5">❶</span><span class="font8">)来获取每个元素的索引及其值。(请注意，我们删除 了代码行</span><span class="font3">print(header_row)</span><span class="font8">，转而显示这个更详细的版本。)</span></p>
<p><span class="font8">输出如下，其中指出了每个文件头的索引：</span></p>
<p><span class="font0">0 AKDT</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">1 Max TemperatureF</span></p></li>
<li>
<p><span class="font0">2 Mean TemperatureF</span></p></li>
<li>
<p><span class="font0">3 Min TemperatureF</span></p></li></ul>
<ul style="list-style:none;"><li>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">-</span></p></li></ul>
<ul style="list-style:none;"><li>
<p><span class="font0">20 CloudCover</span></p></li>
<li>
<p><span class="font0">21 Events</span></p></li>
<li>
<p><span class="font0">22 WindDirDegrees</span></p></li></ul>
<p><span class="font8">从中可知，日期和最高气温分别存储在第</span><span class="font9">0</span><span class="font8">列和第</span><span class="font9">1</span><span class="font8">列。为研究这些数据，我们将处理 </span><span class="font9">sitka_weather_07-2014.csv</span><span class="font8">中的每行数据，并提取其中索引为</span><span class="font9">0</span><span class="font8">和</span><span class="font9">1</span><span class="font8">的值。</span></p>
<ul style="list-style:none;"><li><a name="caption1"></a>
<h5><a name="bookmark0"></a><span class="font2"><a name="bookmark1"></a>16.1.3 </span><span class="font6">提取并读取数据</span></h5></li></ul>
<h6><a name="bookmark2"></a><span class="font8"><a name="bookmark3"></a>知道需要哪些列中的数据后，我们来读取一些数据。首先读取每天的最高气温：</span><br><br><span class="font1"><a name="bookmark4"></a>highs_lows.py</span></h6>
<p><span class="font0">import csv</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0"># </span><span class="font7">从文件中获取最高气温</span></p></li></ul>
<p><span class="font0">filename = 'sitka_weather_07-2014.csv'</span></p>
<p><span class="font0">with open(filename) as f:</span></p>
<p><span class="font0">reader = csv.reader(f)</span></p>
<p><span class="font0">header_row = next(reader)</span></p>
<p><span class="font4">❶ &nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">highs = []</span></p>
<p><span class="font4">❷ &nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">for row in reader:</span></p>
<p><span class="font4">❸ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">highs.append(row[l])</span></p>
<p><span class="font0">print(highs)</span></p>
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
</body>
</html>
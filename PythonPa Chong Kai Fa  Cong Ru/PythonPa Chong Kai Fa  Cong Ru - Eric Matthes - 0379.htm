<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Arial, sans-serif; }
 .font2 { font:12pt Arial, sans-serif; }
 .font3 { font:10pt Segoe UI, sans-serif; }
 .font4 { font:12pt SimHei, sans-serif; }
 .font5 { font:8pt SimSun, serif; }
 .font6 { font:10pt SimSun, serif; }
 .font7 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font7">362</span></p>
<p><span class="font6">第</span><span class="font7">18</span><span class="font6">章</span><span class="font7">Django</span><span class="font6">入门</span></p>
<ul style="list-style:none;"><li><a name="caption1"></a>
<h5><a name="bookmark0"></a><span class="font2"><a name="bookmark1"></a>18.2.2 </span><span class="font4">激活模型</span></h5></li></ul>
<p><span class="font6">要使用模型，必须让</span><span class="font7">Django</span><span class="font6">将应用程序包含到项目中。为此，打开</span><span class="font7">settings.py </span><span class="font6">(它位于目录 </span><span class="font7">leaming_log/learning</span><span class="font6">」</span><span class="font7">og</span><span class="font6">中)，你将看到一个这样的片段，即告诉</span><span class="font7">Django</span><span class="font6">哪些应用程序安装在项 目中：</span></p>
<p><span class="font1">settings.py</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0" style="font-style:italic;">- -snip--</span></p></li></ul>
<p><span class="font0">INSTALLED_APPS = (</span></p>
<p><span class="font0">'django.contrib.admin',</span></p>
<p><span class="font0">'django.contrib.auth',</span></p>
<p><span class="font0">'django.contrib.contenttypes',</span></p>
<p><span class="font0">'django.contrib.sessions',</span></p>
<p><span class="font0">'django.contrib.messages',</span></p>
<p><span class="font0">'django.contrib.staticfiles', )</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0" style="font-style:italic;">- -snip--</span></p></li></ul>
<p><span class="font6">这是一个元组，告诉</span><span class="font7">Django</span><span class="font6">项目是由哪些应用程序组成的。请将</span><span class="font3">INSTALLED_APPS</span><span class="font6">修改成下面 这样，将前面的应用程序添加到这个元组中：</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0" style="font-style:italic;">- -snip--</span></p></li></ul>
<p><span class="font0">INSTALLED_APPS = (</span></p>
<p><span class="font0" style="font-style:italic;">--snip--</span></p>
<p><span class="font0">'django.contrib.staticfiles',</span></p>
<p><span class="font0"># </span><span class="font5">我的应用程序 </span><span class="font0">'learning_logs',</span></p>
<p><span class="font0">)</span></p>
<p><span class="font0" style="font-style:italic;">--snip--</span></p>
<p><span class="font6">通过将应用程序编组，在项目不断增大，包含更多的应用程序时，有助于对应用程序进行跟 踪。这里新建了一个名为</span><span class="font7">My apps</span><span class="font6">的片段，当前它只包含应用程序</span><span class="font7">learning_logs</span><span class="font6">。</span></p>
<p><span class="font6">接下来，需要让</span><span class="font7">Django</span><span class="font6">修改数据库，使其能够存储与模型</span><span class="font3">Topic</span><span class="font6">相关的信息。为此，在终端 窗口中执行下面的命令：</span></p>
<p><span class="font0">(ll_env)learning_log$ </span><span class="font0" style="font-weight:bold;">python manage.py makemigrations learning_logs</span></p>
<p><span class="font0">Migrations for 'learning_logs':</span></p>
<p><span class="font0">0001_initial.py:</span></p>
<p><span class="font0">- Create model Topic</span></p>
<p><span class="font0">(ll_env)learning_log$</span></p>
<p><span class="font6">命令</span><span class="font3">makemigrations</span><span class="font6">让</span><span class="font7">Django</span><span class="font6">确定该如何修改数据库，使其能够存储与我们定义的新模型相 关联的数据。输出表明</span><span class="font7">Django</span><span class="font6">创建了一个名为</span><span class="font7">0001_initial.py</span><span class="font6">的迁移文件，这个文件将在数据库中 为模型</span><span class="font3">Topic</span><span class="font6">创建一个表。</span></p>
<p><span class="font6">下面来应用这种迁移，让</span><span class="font7">Django</span><span class="font6">替我们修改数据库：</span></p>
<div>
</div><br clear="all">
</body>
</html>
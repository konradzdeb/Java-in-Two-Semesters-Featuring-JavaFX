<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:6pt Arial, sans-serif; }
 .font1 { font:8pt Arial, sans-serif; }
 .font2 { font:12pt Arial, sans-serif; }
 .font3 { font:10pt Calibri, sans-serif; }
 .font4 { font:10pt Segoe UI, sans-serif; }
 .font5 { font:7pt SimHei, sans-serif; }
 .font6 { font:10pt SimHei, sans-serif; }
 .font7 { font:12pt SimHei, sans-serif; }
 .font8 { font:9pt SimSun, serif; }
 .font9 { font:10pt SimSun, serif; }
 .font10 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font10">20.2 </span><span class="font9">部署“学习笔记”</span></p>
<p><span class="font10">427</span></p>
<ul style="list-style:none;"><li>
<p><span class="font1">--</span><span class="font1" style="font-style:italic;">snip</span><span class="font1">-</span></p></li></ul>
<p><span class="font1">remote: -----&gt; Launching... done, v6</span></p>
<p><span class="font0">❹</span><span class="font5"> </span><span class="font1">remote: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://afternoon-meadow-2775.herokuapp.com/"><span class="font1">https://afternoon-meadow-2775.herokuapp.com/</span></a><span class="font1"> deployed to Heroku</span></p>
<p><span class="font1">remote: Verifying deploy.... done.</span></p>
<p><span class="font1">To </span><a href="https://git.heroku.com/afternoon-meadow-2775.git"><span class="font1">https://git.heroku.com/afternoon-meadow-2775.git</span></a><span class="font1"> bdb2a35..62d711d master -&gt; master</span></p>
<p><span class="font1">(ll_env)learning_log$</span></p>
<p><span class="font9">首先，在终端会话中，使用你在</span><a href="https://heroku.com/%e5%88%9b%e5%bb%ba%e8%b4%a6%e6%88%b7%e6%97%b6%e6%8c%87%e5%ae%9a%e7%9a%84%e7%94%a8%e6%88%b7%e5%90%8d%e5%92%8c%e5%af%86%e7%a0%81%e6%9d%a5%e7%99%bb%e5%bd%95"><span class="font10">https://heroku.com/</span><span class="font9">创建账户时指定的用户名和密码来登录</span></a><span class="font9"> </span><span class="font10">Heroku </span><span class="font9">(见</span><span class="font3">O</span><span class="font9">)。然后，让</span><span class="font10">Heroku</span><span class="font9">创建一个空项目(见</span><span class="font3">❷</span><span class="font9">)。</span><span class="font10">Heroku</span><span class="font9">生成的项目名由两个单词和一 个数字组成，你以后可修改这个名称。接下来，我们执行命令</span><span class="font4">git push heroku master </span><span class="font9">(见</span><span class="font3">❸</span><span class="font9">)， 它让</span><span class="font10">Git</span><span class="font9">将项目的分支</span><span class="font10">master</span><span class="font9">推送到</span><span class="font10">Heroku</span><span class="font9">刚才创建的仓库中；</span><span class="font10">Heroku</span><span class="font9">随后使用这些文件在其服务 器上创建项目。</span><span class="font3">❹</span><span class="font9">处列出了用于访问这个项目的</span><span class="font10">URL</span><span class="font9">。</span></p>
<p><span class="font9">执行这些命令后，项目就部署好了，但还未对其做全面的配置。为核实正确地启动了服务器 进程，请执行命令</span><span class="font4">heroku ps</span><span class="font9">：</span></p>
<p><span class="font1">(ll_env)learning_log$ </span><span class="font1" style="font-weight:bold;">heroku ps</span></p>
<p><span class="font0">❶</span><span class="font5"> </span><span class="font1">Free quota left: 17h 40m</span></p>
<p><span class="font0">❷</span><span class="font1">===web (Free): 'gunicorn learning_log.wsgi _log-file -' web.1: up 2015/08/14 07:08:51 (~ 10m ago) (ll_env)learning_log$</span></p>
<p><span class="font9">输出指出了在接下来的</span><span class="font10">24</span><span class="font9">小时内，项目还可在多长时间内处于活动状态(见</span><span class="font3">❶</span><span class="font9">)。编写本书 时，</span><span class="font10">Heroku</span><span class="font9">允许免费部署在</span><span class="font10">24</span><span class="font9">小时内最多可以有</span><span class="font10">18</span><span class="font9">小时处于活动状态。项目的活动时间超过这个 限制后，将显示标准的服务器错误页面，稍后我们将设置这个错误页面。在</span><span class="font3">❷</span><span class="font9">处，我们发现启动 了 </span><span class="font10">Procfile</span><span class="font9">指定的进程。</span></p>
<p><span class="font9">现在，我们可以使用命令</span><span class="font4">heroku open</span><span class="font9">在浏览器中打开这个应用程序了：</span></p>
<p><span class="font1">(ll_env)learning_log$ </span><span class="font1" style="font-weight:bold;">heroku open</span></p>
<p><span class="font1">Opening afternoon-meadow-2775... done</span></p>
<p><span class="font9">你也可以启动浏览器并输入</span><span class="font10">Heroku</span><span class="font9">告诉你的</span><span class="font10">URL</span><span class="font9">，但上述命令可实现同样的结果。你将看到 “学习笔记”的主页，其样式设置正确无误，但你还无法使用这个应用程序，因为我们还没有建 立数据库。</span></p>
<p><span class="font6">注意 </span><span class="font8">部署到</span><span class="font10">Heroku</span><span class="font8">的流程会不断变化。如果你遇到无法解决的问题，请通过查看</span><span class="font10">Heroku</span><span class="font8">文档 来获取帮助。为此，可访问</span><span class="font10">https://devcenterheroku.com/</span><span class="font8">，单击</span><span class="font10">Python</span><span class="font8">，再单击链接</span><span class="font10">Getting Started with Django</span><span class="font8">。如果你看不懂这些文档，请参阅附录</span><span class="font10">C</span><span class="font8">提供的建议。</span></p>
<ul style="list-style:none;"><li><a name="caption1"></a>
<h5><a name="bookmark0"></a><span class="font2"><a name="bookmark1"></a>20.2.13</span><span class="font7"> 在</span><span class="font2">Heroku</span><span class="font7">上建立数据库</span></h5>
<div>
<p><span class="font2" style="font-weight:bold;">20</span></p>
</div><br clear="all"></li></ul>
<p><span class="font9">为建立在线数据库，我们需要再次执行命令</span><span class="font4">migrate</span><span class="font9">，并应用在开发期间生成的所有迁移。</span></p>
</body>
</html>
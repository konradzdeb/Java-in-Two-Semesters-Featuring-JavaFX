<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:9pt Arial, sans-serif; }
 .font2 { font:10pt Arial, sans-serif; }
 .font3 { font:12pt Arial, sans-serif; }
 .font4 { font:14pt Arial, sans-serif; }
 .font5 { font:8pt SimHei, sans-serif; }
 .font6 { font:10pt SimHei, sans-serif; }
 .font7 { font:12pt SimHei, sans-serif; }
 .font8 { font:14pt SimHei, sans-serif; }
 .font9 { font:11pt SimSun, serif; }

</style>
</head>
<body>
<p><span class="font2">18.3</span><span class="font6">创建网页：学习笔记主页</span></p>
<p><span class="font2">369</span></p><a name="caption1"></a>
<h6><a name="bookmark0"></a><span class="font7"><a name="bookmark1"></a>动手试一试</span></h6>
<p><span class="font1">18-2</span><span class="font6">简短的条目：当前，</span><span class="font0">Django</span><span class="font6">在管理网站或</span><span class="font0">shell</span><span class="font6">中显示</span><span class="font0">Entry</span><span class="font6">实例时，模型 </span><span class="font0">Entry</span><span class="font6">的方法—</span><span class="font0">str—()</span><span class="font6">都在它的末尾加上省略号。请在方法—</span><span class="font0">str—()</span><span class="font6">中添加一条</span><span class="font0">if </span><span class="font6">语句，以便仅在条目长度超过</span><span class="font0">50</span><span class="font6">字符时才添加省略号。使用管理网站来添加一个长度 少于</span><span class="font0">50</span><span class="font6">字符的条目，并核实显示它时没有省略号。</span></p>
<p><span class="font1">18-3 Django API</span><span class="font9">：</span><span class="font6">编写访问项目中的数据的代码时，你编写的是查询。请浏览有 关如何查询数据的文档，其网址为 </span><a href="https://docs.djaiigoproject.coin/en/7.8/topics/db/queries/o"><span class="font0">https://docs.djaiigoproject.coin/en/7.8/topics/db/queries/<sub>o</sub></span></a><span class="font0"><sub> </sub></span><span class="font6">其中大部分内容都是你不熟悉的，但等你自己开发项目时，这些内容会很有用。</span></p>
<p><span class="font1">18-4</span><span class="font6">比萨店：新建一个名为</span><span class="font0">pizzeria</span><span class="font6">的项目，并在其中添加一个名为</span><span class="font0">pizzas</span><span class="font6">的应 用程序。定义一个名为</span><span class="font0">Pizza</span><span class="font6">的模型，它包含字段</span><span class="font0">name,</span><span class="font6">用于存储比萨名称，如</span><span class="font0">Hawaiian </span><span class="font6">和</span><span class="font0">Meat Lovers</span><span class="font6">。定义一个名为</span><span class="font0">Topping</span><span class="font6">的模型，它包含字段</span><span class="font0">pizza</span><span class="font6">和</span><span class="font0">name,</span><span class="font6">其中字段 </span><span class="font0">pizza</span><span class="font6">是一个关联到</span><span class="font0">Pizza</span><span class="font6">的外键，而字段</span><span class="font0">name</span><span class="font6">用于存储配料，如</span><span class="font0">pineapple</span><span class="font6">、</span><span class="font0">Canadian bacon </span><span class="font6">和 </span><span class="font0">sausage<sub>o</sub></span></p>
<p><span class="font6">向管理网站注册这两个模型，并使用管理网站输入一些比萨名和配料。使用</span><span class="font0">shell </span><span class="font6">来查看你输入的数据。</span></p>
<ul style="list-style:none;"><li><a name="caption2"></a>
<h5><a name="bookmark2"></a><span class="font4"><a name="bookmark3"></a>18.3</span><span class="font8">创建网页：学习笔记主页</span></h5></li></ul>
<p><span class="font6">使用</span><span class="font0">Django</span><span class="font6">创建网页的过程通常分三个阶段：定义</span><span class="font0">URL</span><span class="font6">、编写视图和编写模板。首先，你必 须定义</span><span class="font0">URL</span><span class="font6">模式。</span><span class="font0">URL</span><span class="font6">模式描述了</span><span class="font0">URL</span><span class="font6">是如何设计的，让</span><span class="font0">Django</span><span class="font6">知道如何将浏览器请求与网站 </span><span class="font0">URL</span><span class="font6">匹配，以确定返回哪个网页。</span></p>
<p><span class="font6">每个</span><span class="font0">URL</span><span class="font6">都被映射到特定的视图一视图函数获取并处理网页所需的数据。视图函数通常调 用一个模板，后者生成浏览器能够理解的网页。为明白其中的工作原理，我们来创建学习笔记的 主页。我们将定义该主页的</span><span class="font0">URL</span><span class="font6">、编写其视图函数并创建一个简单的模板。</span></p>
<p><span class="font6">鉴于我们只是要确保“学习笔记”按要求的那样工作，我们将暂时让这个网页尽可能简单。 </span><span class="font0">Web</span><span class="font6">应用程序能够正常运行后，设置样式可使其更有趣，但中看不中用的应用程序毫无意义。就 目前而言，主页只显示标题和简单的描述。</span></p>
<ul style="list-style:none;"><li>
<h5><a name="bookmark4"></a><span class="font3"><a name="bookmark5"></a>18.3.1</span><span class="font7"> 映射 </span><span class="font3">URL</span></h5>
<div>
<p><span class="font3" style="font-weight:bold;">18</span></p>
</div><br clear="all"></li></ul>
<p><span class="font6">用户通过在浏览器中输入</span><span class="font0">URL</span><span class="font6">以及单击链接来请求网页，因此我们需要确定项目需要哪些 </span><span class="font0">URL<sub>O</sub></span><span class="font6">主页的</span><span class="font0">URL</span><span class="font6">最重要，它是用户用来访问项目的基础</span><span class="font0">URL</span><span class="font6">。当前，基础</span><span class="font0">URL (http://localhost:8000/)</span><span class="font6">返回默认的</span><span class="font0">Django</span><span class="font6">网站，让我们知道正确地建立了项目。我们将修改这一 点，将这个基础</span><span class="font0">URL</span><span class="font6">映射到“学习笔记”的主页。</span></p>
<p><span class="font6">打开项目主文件夹</span><span class="font0">leaming_log</span><span class="font6">中的文件</span><span class="font0">urls.py,</span><span class="font6">你将看到如下代码：</span></p>
<p><span class="font5">图灵社区会员江子涛</span><span class="font0">Tesla(jiangzitao201314@foxmail.com)</span><span class="font5">专享尊重版权</span></p>
</body>
</html>
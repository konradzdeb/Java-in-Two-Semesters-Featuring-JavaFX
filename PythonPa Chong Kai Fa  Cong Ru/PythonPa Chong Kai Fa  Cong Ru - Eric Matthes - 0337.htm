<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Arial, sans-serif; }
 .font2 { font:12pt Arial, sans-serif; }
 .font3 { font:10pt Segoe UI, sans-serif; }
 .font4 { font:7pt SimHei, sans-serif; }
 .font5 { font:8pt SimHei, sans-serif; }
 .font6 { font:10pt SimHei, sans-serif; }
 .font7 { font:12pt SimHei, sans-serif; }
 .font8 { font:8pt SimSun, serif; }
 .font9 { font:9pt SimSun, serif; }
 .font10 { font:10pt SimSun, serif; }
 .font11 { font:11pt SimSun, serif; }
 .font12 { font:9pt Times New Roman, serif; }
 .font13 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font13">320</span></p>
<p><span class="font10">第</span><span class="font13">16</span><span class="font10">章 下载数据</span></p>
<p><span class="font4">❶ </span><span class="font0">dates, highs, lows = [], [], </span><span class="font4">口</span></p>
<p><span class="font0">for row in reader:</span></p>
<p><span class="font0">current_date = datetime.strptime(row[0], &quot;%Y-%m-%d&quot;)</span></p>
<p><span class="font0">dates.append(current_date)</span></p>
<p><span class="font0">high = int(row[1])</span></p>
<p><span class="font0">highs.append(high)</span></p>
<p><span class="font4">❷ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">low = int(row[3])</span></p>
<p><span class="font0">lows.append(low)</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">#</span><span class="font8"> 根据数据绘制图形</span></p></li></ul>
<p><span class="font0">fig = plt.figure(dpi=128, figsize=(10, 6))</span></p>
<p><span class="font0">plt.plot(dates, highs, c='red')</span></p>
<p><span class="font4">❸ </span><span class="font0">plt.plot(dates, lows, c='blue')</span></p>
<ul style="list-style:none;"><li>
<p><span class="font12">#</span><span class="font8"> 设置图形的格式</span></p></li></ul>
<p><span class="font4">❹ </span><span class="font0">plt.title(&quot;Daily high and low teimperatures - 2014&quot;, fontsize=24</span><span class="font9">)</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">- -</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p></li></ul>
<p><span class="font10">在</span><span class="font6">❶</span><span class="font10">处，我们添加了空列表</span><span class="font3">lows</span><span class="font10">,用于存储最低气温。接下来，我们从每行的第</span><span class="font13">4</span><span class="font10">列</span><span class="font11">(</span><span class="font3">row[3]</span><span class="font10">) 提取每天的最低气温，并存储它们(见</span><span class="font6">❷</span><span class="font10">)。在</span><span class="font6">❸</span><span class="font10">处，我们添加了一个对</span><span class="font3">plot()</span><span class="font10">的调用，以使用蓝 色绘制最低气温。最后，我们修改了标题(见</span><span class="font6">❹</span><span class="font10">)。图</span><span class="font13">16-4</span><span class="font10">显示了这样绘制出来的图表。</span></p>
<p><span class="font1">Daily high and low temperatures - 2014</span></p><img src="PythonPa Chong Kai Fa  Cong Ru - Eric Matthes - 0337_files/PythonPa20Chong20Kai20Fa2020Cong20Ru20-20Eric20Matthes20-200337-1.jpg" alt="" style="width:282pt;height:126pt;"><img src="PythonPa Chong Kai Fa  Cong Ru - Eric Matthes - 0337_files/PythonPa20Chong20Kai20Fa2020Cong20Ru20-20Eric20Matthes20-200337-2.jpg" alt="" style="width:340pt;height:36pt;">
<p><span class="font5">图</span><span class="font12">16-4 </span><span class="font5">在一个图表中包含两个数据系列</span></p>
<ul style="list-style:none;"><li><a name="caption1"></a>
<h5><a name="bookmark0"></a><span class="font2"><a name="bookmark1"></a>16.1.9</span><span class="font7"> 给图表区域着色</span></h5></li></ul>
<p><span class="font10">添加两个数据系列后,我们就可以了解每天的气温范围了。下面来给这个图表做最后的修饰, 通过着色来呈现每天的气温范围。为此，我们将使用方法</span><span class="font3">fill_between()</span><span class="font10">，它接受一个</span><span class="font13" style="font-style:italic;">x</span><span class="font10">值系列和 两个</span><span class="font13" style="font-style:italic;">y</span><span class="font10">值系列，并填充两个</span><span class="font13" style="font-style:italic;">y</span><span class="font10">值系列之间的空间：</span></p>
<div>
</div><br clear="all">
</body>
</html>
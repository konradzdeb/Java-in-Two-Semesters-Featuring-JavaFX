<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Segoe UI, sans-serif; }
 .font2 { font:7pt SimHei, sans-serif; }
 .font3 { font:8pt SimHei, sans-serif; }
 .font4 { font:10pt SimHei, sans-serif; }
 .font5 { font:10pt SimSun, serif; }
 .font6 { font:9pt Times New Roman, serif; }
 .font7 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font7">348</span></p>
<p><span class="font5">第</span><span class="font7">17</span><span class="font5">章使用</span><span class="font7">API</span></p>
<p><span class="font0">from pygal.style import LightColorizedStyle as LCS, LightenStyle as LS</span></p>
<p><span class="font0">my_style = LS('#333366', base_style=LCS)</span></p>
<p><span class="font0">chart = pygal.Bar(style=my_style, x_label_rotation=45, show_legend=False)</span></p>
<p><span class="font0">chart.title = 'Python Projects'</span></p>
<p><span class="font0">chart.x_labels = ['httpie', 'django', 'flask']</span></p>
<p><span class="font2">❶ </span><span class="font0">plot_dicts =[</span></p>
<p><span class="font2">❷ </span><span class="font0">{'value': 16101, 'label': 'Description of httpie.'}, {'value': 15028, 'label': 'Description of django.'}, {'value': 14798, 'label': 'Description of flask.'}, ]</span></p>
<p><span class="font2">❸ </span><span class="font0">chart.add('', plot_dicts)</span></p>
<p><span class="font0">chart.render_to_file('bar_descriptions.svg')</span></p>
<p><span class="font5">在</span><span class="font4">❶</span><span class="font5">处，我们定义了一个名为</span><span class="font1">plot_dicts</span><span class="font5">的列表，其中包含三个字典，分别针对项目</span><span class="font7">HTTPie</span><span class="font5">、 </span><span class="font7">Django</span><span class="font5">和</span><span class="font7">Flask</span><span class="font5">。每个字典都包含两个键：</span><span class="font1">‘value'</span><span class="font5">和</span><span class="font1">'label'</span><span class="font5">。</span><span class="font7">Pygal</span><span class="font5">根据与键</span><span class="font1">'value'</span><span class="font5">相关联的数 字来确定条形的高度，并使用与</span><span class="font1">'label'</span><span class="font5">相关联的字符串给条形创建工具提示。例如，</span><span class="font4">❷</span><span class="font5">处的第 一个字典将创建一个条形，用于表示一个获得了 </span><span class="font7">16 101</span><span class="font5">颗星、工具提示为</span><span class="font7">Description of httpie</span><span class="font5">的 项目。</span></p>
<p><span class="font5">方法</span><span class="font1">add()</span><span class="font5">接受一个字符串和一个列表。这里调用</span><span class="font1">add()</span><span class="font5">时，我们传入了一个由表示条形的字 典组成的列表(</span><span class="font1">plot_dicts</span><span class="font5">)(见</span><span class="font4">❸</span><span class="font5">)。图</span><span class="font7">17-3</span><span class="font5">显示了一个工具提示：除默认工具提示(获得的星 数)外，</span><span class="font7">Pygal</span><span class="font5">还显示了我们传人的自定义提示。</span></p><img src="PythonPa Chong Kai Fa  Cong Ru - Eric Matthes - 0365_files/PythonPa20Chong20Kai20Fa2020Cong20Ru20-20Eric20Matthes20-200365-1.jpg" alt="" style="width:369pt;height:204pt;">
<p><span class="font3">图</span><span class="font6">17-3 </span><span class="font3">每个条形都有自定义的工具提示标签</span></p>
</body>
</html>
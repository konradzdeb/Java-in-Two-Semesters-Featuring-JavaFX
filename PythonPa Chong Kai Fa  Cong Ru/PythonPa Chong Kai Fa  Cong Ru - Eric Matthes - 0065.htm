<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Arial, sans-serif; }
 .font2 { font:12pt Arial, sans-serif; }
 .font3 { font:10pt Segoe UI, sans-serif; }
 .font4 { font:7pt SimHei, sans-serif; }
 .font5 { font:8pt SimHei, sans-serif; }
 .font6 { font:10pt SimHei, sans-serif; }
 .font7 { font:12pt SimHei, sans-serif; }
 .font8 { font:9pt SimSun, serif; }
 .font9 { font:10pt SimSun, serif; }
 .font10 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font10">48 </span><span class="font9">第</span><span class="font10">4</span><span class="font9">章 操作列表</span></p>
<p><span class="font9">不相同的代码块，这让你对程序的组织结构有大致的认识。</span></p>
<p><span class="font9">当你开始编写必须正确缩进的代码时，需要注意一些常见的</span><span class="font8">缩进错误</span><span class="font9">。例如，有时候，程序 员会将不需要缩进的代码块缩进，而对于必须缩进的代码块却忘了缩进。通过查看这样的错误示 例，有助于你以后避开它们，以及在它们出现在程序中时进行修复。</span></p>
<p><span class="font9">下面来看一些较为常见的缩进错误。</span></p>
<ul style="list-style:none;"><li><a name="caption1"></a>
<h5><a name="bookmark0"></a><span class="font2"><a name="bookmark1"></a>4.2.1</span><span class="font7"> 忘记缩进</span></h5></li></ul>
<p><span class="font9">对于位于</span><span class="font3">for</span><span class="font9">语句后面且属于循环组成部分的代码行，一定要缩进。如果你忘记缩进，</span><span class="font10">Python </span><span class="font9">会提醒你：</span></p>
<p><span class="font1">magicians.py</span></p>
<p><span class="font0">magicians = ['alice', 'david', 'carolina']</span></p>
<p><span class="font0">for magician in magicians:</span></p>
<p><span class="font4">❶ </span><span class="font0">print(magician)</span></p>
<p><span class="font3">print</span><span class="font9">语句(见</span><span class="font6">❶</span><span class="font9">)应缩进却没有缩进。</span><span class="font10">Python</span><span class="font9">没有找到期望缩进的代码块时，会让你知道哪 行代码有问题。</span></p>
<p><span class="font0">File &quot;magicians.py&quot;, line 3 print(magician)</span></p>
<p><span class="font5">八</span></p>
<p><span class="font0">IndentationError: expected an indented block</span></p>
<p><span class="font9">通常，将紧跟在</span><span class="font3">for</span><span class="font9">语句后面的代码行缩进，可消除这种缩进错误。</span></p>
<ul style="list-style:none;"><li>
<p><span class="font2">4.2.2</span><span class="font7"> 忘记缩进额外的代码行</span></p></li></ul>
<p><span class="font9">有时候，循环能够运行而不会报告错误，但结果可能会出乎意料。试图在循环中执行多项任 务，却忘记缩进其中的一些代码行时，就会出现这种情况。</span></p>
<p><span class="font9">例如，如果忘记缩进循环中的第</span><span class="font10">2</span><span class="font9">行代码(它告诉每位魔术师，我们期待他的下一次表演)， 就会出现这种情况：</span></p>
<p><span class="font0">magicians = ['alice', 'david', 'carolina']</span></p>
<p><span class="font0">for magician in magicians:</span></p>
<p><span class="font0">print(magician.title() + &quot;, that was a great trick!&quot;)</span></p>
<p><span class="font4">❶ </span><span class="font0">print(&quot;I can't wait to see your next trick, &quot;&nbsp;+ magician.title() + &quot;.\n&quot;)</span></p>
<p><span class="font9">第二条</span><span class="font3">print</span><span class="font9">语句(见</span><span class="font6">❶</span><span class="font9">)原本需要缩进，但</span><span class="font10">Python</span><span class="font9">发现</span><span class="font3">for</span><span class="font9">语句后面有一行代码是缩进的， 因此它没有报告错误。最终的结果是，对于列表中的每位魔术师，都执行了第一条</span><span class="font3">print</span><span class="font9">语句， 因为它缩进了；而第二条</span><span class="font3">print</span><span class="font9">语句没有缩进，因此它只在循环结束后执行一次。由于变量 </span><span class="font3">magician</span><span class="font9">的终值为</span><span class="font3">‘Carolina'</span><span class="font9">，因此只有她收到了消息 “</span><span class="font10">looking forward to the next trick</span><span class="font9">”：</span></p>
<div>
</div><br clear="all">
</body>
</html>
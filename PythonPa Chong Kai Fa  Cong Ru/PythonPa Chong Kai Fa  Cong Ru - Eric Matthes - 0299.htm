<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Arial, sans-serif; }
 .font2 { font:10pt Segoe UI, sans-serif; }
 .font3 { font:8pt SimHei, sans-serif; }
 .font4 { font:8pt SimSun, serif; }
 .font5 { font:10pt SimSun, serif; }
 .font6 { font:9pt Times New Roman, serif; }
 .font7 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font7">282 </span><span class="font5">第</span><span class="font7">14</span><span class="font5">章 记分</span></p><a name="caption1"></a>
<h6><a name="bookmark0"></a><span class="font1"><a name="bookmark1"></a>game_functions.py</span></h6>
<p><span class="font0">def check_aliens_bottom(ai_settings, screen, stats, sb, ship, aliens, bullets):</span></p>
<p><span class="font0">&quot;&quot;&quot;</span><span class="font4">检查是否有外星人抵达屏幕底端</span><span class="font0">&quot;&quot;&quot;</span></p>
<p><span class="font0">screen_rect = screen.get_rect()</span></p>
<p><span class="font0">for alien in aliens.sprites():</span></p>
<p><span class="font0">if alien.rect.bottom &gt;= screen_rect.bottom:</span></p>
<p><span class="font0"># </span><span class="font4">像飞船被外星人撞到一样处理</span></p>
<p><span class="font0">ship_hit(ai_settings, screen, stats, sb, ship, aliens, bullets) break</span></p>
<p><span class="font5">现在，</span><span class="font2">check_aliens_bottom()</span><span class="font5">包含形参</span><span class="font2">sb</span><span class="font5">,并在调用</span><span class="font2">ship_hit()</span><span class="font5">时传递了实参</span><span class="font2">sb</span><span class="font5">。 最后，在</span><span class="font7">alien_invasion.py</span><span class="font5">中修改调用</span><span class="font2">update_aliens()</span><span class="font5">的代码，向它传递实参</span><span class="font2">sb</span><span class="font5">:</span></p>
<h6><a name="bookmark2"></a><span class="font1"><a name="bookmark3"></a>alien_invasion.py</span></h6>
<p><span class="font0"># </span><span class="font4">开始游戏主循环 </span><span class="font0">while True:</span></p>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p>
<p><span class="font0">if stats.game_active: ship.update() gf.update_bullets(ai_settings, screen, stats, sb, ship, aliens, bullets)</span></p>
<p><span class="font0">gf.update_aliens(ai_settings, screen, stats, sb, ship, aliens, bullets)</span></p>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p>
<h6><a name="bookmark4"></a><span class="font5"><a name="bookmark5"></a>图</span><span class="font7">14-6</span><span class="font5">显示了完整的记分系统，它在屏幕左上角指出了还余下多少艘飞船。</span></h6><img src="PythonPa Chong Kai Fa  Cong Ru - Eric Matthes - 0299_files/PythonPa20Chong20Kai20Fa2020Cong20Ru20-20Eric20Matthes20-200299-1.jpg" alt="" style="width:289pt;height:198pt;">
<p><span class="font3">图</span><span class="font6">14-6 </span><span class="font3">游戏《外星人入侵》的完整记分系统</span></p>
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
</body>
</html>
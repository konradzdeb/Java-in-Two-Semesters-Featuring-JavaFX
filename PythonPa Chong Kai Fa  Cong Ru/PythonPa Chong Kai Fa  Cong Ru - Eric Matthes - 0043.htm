<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:12pt Arial, sans-serif; }
 .font2 { font:10pt Segoe UI, sans-serif; }
 .font3 { font:7pt SimHei, sans-serif; }
 .font4 { font:10pt SimHei, sans-serif; }
 .font5 { font:12pt SimHei, sans-serif; }
 .font6 { font:9pt SimSun, serif; }
 .font7 { font:10pt SimSun, serif; }
 .font8 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font8">26 </span><span class="font7">第</span><span class="font8">2</span><span class="font7">章 变量和简单数据类型</span></p>
<p><span class="font0">print(message)</span></p>
<p><span class="font7">你可能认为，上述代码会打印一条简单的生日祝福语：</span><span class="font8">Happy 23rd birthday!</span><span class="font7">。但如果你运行 这些代码，将发现它们会引发错误：</span></p>
<p><span class="font0">Traceback (most recent call last):</span></p>
<p><span class="font0">File &quot;birthday.py&quot;, line 2, in &lt;module&gt; message = &quot;Happy &quot;&nbsp;+ age + &quot;rd Birthday!&quot; </span><span class="font3">❶ </span><span class="font0">TypeError: Can't convert 'int' object to str implicitly</span></p>
<p><span class="font7">这是一个</span><span class="font6">类型错误</span><span class="font7">，意味着</span><span class="font8">Python</span><span class="font7">无法识别你使用的信息。在这个示例中，</span><span class="font8">Python</span><span class="font7">发现你使 用了一个值为整数(</span><span class="font2">int</span><span class="font7">)的变量，但它不知道该如何解读这个值(见</span><span class="font4">❶</span><span class="font7">)。</span><span class="font8">Python</span><span class="font7">知道，这个变 量表示的可能是数值</span><span class="font8">23</span><span class="font7">，也可能是字符</span><span class="font8">2</span><span class="font7">和</span><span class="font8">3</span><span class="font7">。像上面这样在字符串中使用整数时，需要显式地指 出你希望</span><span class="font8">Python</span><span class="font7">将这个整数用作字符串。为此，可调用函数</span><span class="font2">str()</span><span class="font7">，它让</span><span class="font8">Python</span><span class="font7">将非字符串值表示 为字符串：</span></p>
<p><span class="font0">age = 23</span></p>
<p><span class="font0">message = &quot;Happy &quot;&nbsp;+ str(age) + &quot;rd Birthday!&quot;</span></p>
<p><span class="font0">print(message)</span></p>
<p><span class="font7">这样，</span><span class="font8">Python</span><span class="font7">就知道你要将数值</span><span class="font8">23</span><span class="font7">转换为字符串，进而在生日祝福消息中显示字符</span><span class="font8">2</span><span class="font7">和</span><span class="font8">3</span><span class="font7">。经 过上述处理后，将显示你期望的消息，而不会引发错误：</span></p>
<p><span class="font0">Happy 23rd Birthday!</span></p>
<p><span class="font7">大多数情况下，在</span><span class="font8">Python</span><span class="font7">中使用数字都非常简单。如果结果出乎意料，请检查</span><span class="font8">Python</span><span class="font7">是否按 你期望的方式将数字解读为了数值或字符串。</span></p>
<ul style="list-style:none;"><li><a name="caption1"></a>
<h5><a name="bookmark0"></a><span class="font1"><a name="bookmark1"></a>2.4.4 Python 2</span><span class="font5">中的整数</span></h5></li></ul>
<p><span class="font7">在 </span><span class="font8">Python 2</span><span class="font7">中，将两个整数相除得到的结果稍有不同：</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">&gt; &gt;&gt;&nbsp;</span><span class="font0" style="font-weight:bold;">python2.7</span></p></li>
<li>
<p><span class="font0">&gt; &gt;&gt;&nbsp;</span><span class="font0" style="font-weight:bold;">3 / 2</span></p></li></ul>
<p><span class="font0">1</span></p>
<p><span class="font8">Python</span><span class="font7">返回的结果为</span><span class="font8">1</span><span class="font7">,而不是</span><span class="font8">1.5</span><span class="font7">。在</span><span class="font8">Python 2</span><span class="font7">中，整数除法的结果只包含整数部分，小数部 分被删除。请注意，计算整数结果时，采取的方式不是四舍五入，而是将小数部分直接删除。</span></p>
<p><span class="font7">在</span><span class="font8">Python 2</span><span class="font7">中，若要避免这种情况，务必确保至少有一个操作数为浮点数，这样结果也将为 浮点数：</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">&gt; &gt;&gt;&nbsp;</span><span class="font0" style="font-weight:bold;">3 / 2</span></p></li></ul>
<p><span class="font0">1</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">&gt; &gt;&gt;&nbsp;</span><span class="font0" style="font-weight:bold;">3.0 / 2</span></p></li></ul>
</body>
</html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Segoe UI, sans-serif; }
 .font2 { font:7pt SimHei, sans-serif; }
 .font3 { font:8pt SimHei, sans-serif; }
 .font4 { font:10pt SimHei, sans-serif; }
 .font5 { font:10pt SimSun, serif; }
 .font6 { font:9pt Times New Roman, serif; }
 .font7 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font7">332</span></p>
<p><span class="font5">第</span><span class="font7">16</span><span class="font5">章 下载数据</span></p>
<p><span class="font0">code = get_country_code(country) if code:</span></p>
<p><span class="font2">❷ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="font0">cc_populations[code] = population</span></p>
<p><span class="font2">❸ </span><span class="font0">wm = pygal.Worldmap()</span></p>
<p><span class="font0">wm.title = 'World Population in 2010, by Country </span><span class="font2">❹ </span><span class="font0">wm.add('2010', cc_populations)</span></p>
<p><span class="font0">wm.render_to_file('world_population.svg')</span></p>
<p><span class="font5">我们首先导入了</span><span class="font1">pygal</span><span class="font5">。在</span><span class="font4">❶</span><span class="font5">处，我们创建了一个空字典，用于以</span><span class="font7">Pygal</span><span class="font5">要求的格式存储国别 码和人口数量。在</span><span class="font4">❷</span><span class="font5">处，如果返回了国别码，就将国别码和人口数量分别作为键和值填充字典 </span><span class="font1">cc_populations</span><span class="font5">。我们还删除了所有的</span><span class="font1">print</span><span class="font5">语句。</span></p>
<p><span class="font5">在</span><span class="font4">❸</span><span class="font5">处，我们创建了一个</span><span class="font1">Worldmap</span><span class="font5">实例，并设置其</span><span class="font1">title</span><span class="font5">属性。在</span><span class="font4">❹</span><span class="font5">处，我们调用了</span><span class="font1">add()</span><span class="font5">, 并向它传递由国别码和人口数量组成的字典。图</span><span class="font7">16-9</span><span class="font5">显示了生成的地图。</span></p><img src="PythonPa Chong Kai Fa  Cong Ru - Eric Matthes - 0349_files/PythonPa20Chong20Kai20Fa2020Cong20Ru20-20Eric20Matthes20-200349-1.jpg" alt="" style="width:350pt;height:230pt;">
<p><span class="font3">图</span><span class="font6">16-9 2010</span><span class="font3">年的世界人口数量</span></p>
<p><span class="font5">有几个国家没有相关的数据，我们将其显示为黑色，但对于大多数国家，都根据其人口数量 进行了着色。本章后面将处理数据缺失的问题，这里先来修改着色，以更准确地反映各国的人口 数量。在当前的地图中，很多国家都是浅色的，只有两个国家是深色的。对大多数国家而言，颜 色深浅的差别不足以反映其人口数量的差别。为修复这种问题，我们将根据人口数量将国家分组， 再分别给每个组着色。</span></p>
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
</body>
</html>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Segoe UI, sans-serif; }
 .font2 { font:7pt SimHei, sans-serif; }
 .font3 { font:10pt SimHei, sans-serif; }
 .font4 { font:8pt SimSun, serif; }
 .font5 { font:9pt SimSun, serif; }
 .font6 { font:10pt SimSun, serif; }
 .font7 { font:10pt Times New Roman, serif; }
 .font8 { font:11pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font7">308</span></p>
<p><span class="font6">第</span><span class="font7">15</span><span class="font6">章 生成数据</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">#</span><span class="font4"> 掷骰子多次，并将结果存储到一个列表中</span></p></li></ul>
<p><span class="font0">results = []</span></p>
<p><span class="font0">for roll_num in range(1000):</span></p>
<p><span class="font2">❶ </span><span class="font0">result = die_1.roll() + die_2.roll()</span></p>
<p><span class="font0">results.append(result)</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">#</span><span class="font4"> 分析结果</span></p></li></ul>
<p><span class="font0">frequencies = []</span></p>
<p><span class="font2">❷ </span><span class="font0">max_result = die_1.num_sides + die_2.num_sides</span></p>
<p><span class="font2">❸ </span><span class="font0">for value in range</span><span class="font5">(</span><span class="font0">2, max_result+1):</span></p>
<p><span class="font0">frequency = results.count(value)</span></p>
<p><span class="font0">frequencies.append(frequency)</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">#</span><span class="font4"> 可视化结果</span></p></li></ul>
<p><span class="font0">hist = pygal.Bar()</span></p>
<p><span class="font2">❹ </span><span class="font0">hist.title = &quot;Results of rolling two D6 dice 1000 times.&quot;</span></p>
<p><span class="font0">hist.x_labels = ['2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12']</span></p>
<p><span class="font0">hist.x_title = &quot;Result&quot;</span></p>
<p><span class="font0">hist.y_title = &quot;Frequency of Result&quot;</span></p>
<p><span class="font0">hist.add('D6 + D6', frequencies)</span></p>
<p><span class="font0">hist.render_to_file('dice_visual.svg')</span></p>
<p><span class="font6">创建两个</span><span class="font1">Die</span><span class="font6">实例后，我们掷骰子多次，并计算每次的总点数(见</span><span class="font8" style="font-weight:bold;">O</span><span class="font6">)。可能出现的最大点数 </span><span class="font7">12</span><span class="font6">为两个骰子的最大可能点数之和，我们将这个值存储在了</span><span class="font1">max_result</span><span class="font6">中(见</span><span class="font3">❷</span><span class="font6">)。可能出现的最 小总点数</span><span class="font7">2</span><span class="font6">为两个骰子的最小可能点数之和。分析结果时，我们计算</span><span class="font7">2</span><span class="font6">到</span><span class="font1">max_result</span><span class="font6">的各种点数出 现的次数(见</span><span class="font3">❸</span><span class="font6">)。我们原本可以使用</span><span class="font1">range(2, 13)</span><span class="font6">，但这只适用于两个</span><span class="font7">D6</span><span class="font6">骰子。模拟现实世界 的情形时，最好编写可轻松地模拟各种情形的代码。前面的代码让我们能够模拟掷任何两个骰子 的情形，而不管这些骰子有多少面。</span></p>
<p><span class="font6">创建图表时，我们修改了标题、</span><span class="font7" style="font-style:italic;">x</span><span class="font6">轴标签和数据系列(见</span><span class="font3">❹</span><span class="font6">)。(如果列表</span><span class="font1">x_labels</span><span class="font6">比这里所示 的长得多，那么编写一个循环来自动生成它将更合适。)</span></p>
<p><span class="font6">运行这些代码后，在浏览器中刷新显示图表的标签页，你将看到如图</span><span class="font7">15-12</span><span class="font6">所示的图表。</span></p>
<p><span class="font6">这个图表显示了掷两个</span><span class="font7">D6</span><span class="font6">骰子时得到的大致结果。正如你看到的，总点数为</span><span class="font7">2</span><span class="font6">或</span><span class="font7">12</span><span class="font6">的可能性 最小，而总点数为</span><span class="font7">7</span><span class="font6">的可能性最大，这是因为在</span><span class="font7">6</span><span class="font6">种情况下得到的总点数都为</span><span class="font7">7</span><span class="font6">。这</span><span class="font7">6</span><span class="font6">种情况如下： </span><span class="font7">1</span><span class="font6">和</span><span class="font7">6</span><span class="font6">、</span><span class="font7">2</span><span class="font6">和</span><span class="font7">5</span><span class="font6">、</span><span class="font7">3</span><span class="font6">和</span><span class="font7">4</span><span class="font6">、</span><span class="font7">4</span><span class="font6">和</span><span class="font7">3</span><span class="font6">、</span><span class="font7">5</span><span class="font6">和</span><span class="font7">2</span><span class="font6">、</span><span class="font7">6</span><span class="font6">和</span><span class="font7">1</span><span class="font6">。</span></p>
</body>
</html>
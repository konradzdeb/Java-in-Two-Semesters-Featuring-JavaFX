<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="generator" content="ABBYY FineReader PDF 15">
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:8pt Arial, sans-serif; }
 .font1 { font:10pt Arial, sans-serif; }
 .font2 { font:12pt Arial, sans-serif; }
 .font3 { font:10pt Segoe UI, sans-serif; }
 .font4 { font:7pt SimHei, sans-serif; }
 .font5 { font:10pt SimHei, sans-serif; }
 .font6 { font:8pt SimSun, serif; }
 .font7 { font:10pt SimSun, serif; }
 .font8 { font:10pt Times New Roman, serif; }

</style>
</head>
<body>
<p><span class="font8">14.3 </span><span class="font7">记分</span></p>
<p><span class="font8">275</span></p><a name="caption1"></a>
<h6><a name="bookmark0"></a><span class="font1"><a name="bookmark1"></a>scoreboard.py</span></h6>
<p><span class="font0">def show_score(self):</span></p>
<p><span class="font0">&quot;&quot;&quot;</span><span class="font6">在屏幕上显示当前得分和最高得分</span><span class="font0">&quot;&quot;&quot;</span></p>
<p><span class="font0">self.screen.blit(self.score_image, self.score_rect)</span></p>
<p><span class="font0">self.screen.blit(self.high_score_image, self.high_score_rect)</span></p>
<p><span class="font7">为检查是否诞生了新的最高得分，我们在</span><span class="font8">game_functions.py</span><span class="font7">中添加一个新函数</span><span class="font3">check_high score()</span><span class="font7">：</span></p>
<h6><a name="bookmark2"></a><span class="font1"><a name="bookmark3"></a>game_functions.py</span></h6>
<p><span class="font0">def check_high_score(stats, sb):</span></p>
<p><span class="font0">&quot;&quot;&quot;</span><span class="font6">检查是否诞生了新的最高得分</span><span class="font0">&quot;&quot;&quot;</span></p>
<p><span class="font4">❶ </span><span class="font0">if stats.score &gt;&nbsp;stats.high_score:</span></p>
<p><span class="font0">stats.high_score = stats.score</span></p>
<p><span class="font0">sb.prep_high_score()</span></p>
<p><span class="font7">函数</span><span class="font3">check_high_score()</span><span class="font7">包含两个形参：</span><span class="font3">stats</span><span class="font7">和</span><span class="font3">sb</span><span class="font7">。它使用</span><span class="font3">stats</span><span class="font7">来比较当前得分和最高得 分，并在必要时使用</span><span class="font3">sb</span><span class="font7">来修改最高得分图像。在</span><span class="font5">❶</span><span class="font7">处，我们比较当前得分和最高得分，如果当前 得分更高，就更新</span><span class="font3">high_score</span><span class="font7">的值，并调用</span><span class="font3">prep_high_score()</span><span class="font7">来更新包含最高得分的图像。</span></p>
<p><span class="font7">在</span><span class="font3">check_bunet_alien_conisions()</span><span class="font7">中，每当有外星人被消灭，都需要在更新得分后调用 </span><span class="font3">check_high_score()</span><span class="font7">：</span></p>
<h6><a name="bookmark4"></a><span class="font1"><a name="bookmark5"></a>game_functions.py</span></h6>
<p><span class="font0">def check_bullet_alien_collisions(ai_settings, screen, stats, sb, ship, aliens, bullets):</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p></li></ul>
<p><span class="font0">if collisions:</span></p>
<p><span class="font0">for aliens in collisions.values():</span></p>
<p><span class="font0">stats.score += ai_settings.alien_points * len(aliens)</span></p>
<div>
<p><span class="font2" style="font-weight:bold;">14</span></p>
</div><br clear="all">
<p><span class="font0">sb.prep_score()</span></p>
<p><span class="font0">check_high_score(stats, sb)</span></p>
<ul style="list-style:none;"><li>
<p><span class="font0">--</span><span class="font0" style="font-style:italic;">snip</span><span class="font0">--</span></p></li></ul>
<p><span class="font7">字典</span><span class="font3">collisions</span><span class="font7">存在时，我们根据消灭了多少外星人来更新得分，再调用</span><span class="font3">check_high_ score()</span><span class="font7">。</span></p>
<p><span class="font7">第一次玩这款游戏时，当前得分就是最高得分，因此两个地方显示的都是当前得分。但再次 开始这个游戏时，最高得分出现在中央，而当前得分出现在右边，如图</span><span class="font8">14-4</span><span class="font7">所示。</span></p>
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
<div>
</div><br clear="all">
</body>
</html>